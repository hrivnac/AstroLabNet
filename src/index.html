<html>

<head>
<title>AstroLabNet</title>
</head>

<body>

<table><tr>
<td><img src="JavaDoc/com/astrolabsoftware/AstroLabNet/Browser/doc-files/AstroLab.png" width="100"/></td>
<td><h1>AstroLabNet</h1>
<h2>@VERSION@ [@BUILD@]</h2>
</tr></table>
<hr/>
<img src="JavaDoc/com/astrolabsoftware/AstroLabNet/Browser/doc-files/Browser.png" width="800">
<br/>
<b>AstroLabNet</b> is a front-end to the archipel
of <em>Spark</em> services. 
<br/>
It allows to
<ul>
<li>Access distributed data.</li>
<li>Deploy jobs to data.</li>
<li>Move data between servers.</li>
<li>Arrange data streaming and updating.</li>
</ul>
Full functionality is available via CLI, GUI and WS.
<br/>
<a href="Help.html">Full Application Help</a>
<hr/>
After direct download from 
<a href="dist/AstroLabNet.exe.jar">AstroLabNet.exe.jar</a>.
It can be called like
<pre>
java -jar AstroLabNet.exe.jar
</pre>
The full help:
<pre>
java -jar AstroLabNet.exe.jar -h                
usage: java -jar AstroLabNet.exe.jar
 -c,--cli             start command line
 -h,--help            show help
 -q,--quiet           minimal direct feedback
 -s,--source &lt;file&gt;   source bsh file (init.bsh is also read)
</pre>
The application will try to connect to your local Server
and from it to other know Servers.
<br/>
If you want to connect directly to another server, you should
write a custom <code>init.bsh</code> file in your run directory:
<pre>
w.addServer("LAL", "http://vm-75222.lal.in2p3.fr:21111", "http://vm-75222.lal.in2p3.fr:20001", "http://134.158.74.54:8080");
</pre>
Examples of <em>BeanShell</em> scripts to load:
<pre>
@BSH@
</pre>
<hr/>
<h3>How to setup private server</h3>
<ol>
<li>Install:
<ol>
<li><a href="https://spark.apache.org">Spark</a></li>
<li><a href="https://livy.incubator.apache.org">Livy</a></li>
<li><a href="https://hbase.apache.org">HBase</a></li>
</ol></li>
<li>Start all servers:
<pre>
${SPARK_HOME}/bin/spark-shell
${LIVY_HOME}/bin/livy-server start
${HBASE_HOME}/bin/start-hbase.sh autostart
${HBASE_HOME}/bin/hbase-daemon.sh start rest
</pre></li>
<li>Create and prefill HBase tables:
<pre>
${HBASE_HOME}/bin/hbase shell < ../src/ruby/createCatalog.rb
${HBASE_HOME}/bin/hbase shell < ../src/ruby/createJournal.rb
${HBASE_HOME}/bin/hbase shell < ../src/ruby/createTopology.rb
${HBASE_HOME}/bin/hbase shell < ../src/ruby/fillTopology.rb
</pre>
</ol>
<hr/>
<ul>
<li><a href="JavaDoc">JavaDoc</a></li>
<li><a href="Src">Source</a></li>
<li><a href="build.jpg">Ant build dependencies</a></li>
<li><a href="https://github.com/hrivnac/AstroLabNet.git">https://github.com/hrivnac/AstroLabNet.git</a></li>
<li>Externals:
    <a href="https://www.java.com">Java</a>,
    <a href="https://openjfx.io">JavaFX</a>,
    <a href="https://www.scala-lang.org">Scala</a>,
    <a href="https://github.com/beanshell/beanshell">BeanShell</a>,
    <a href="https://spark.apache.org">Spark</a>,
    <a href="https://livy.incubator.apache.org">Livy</a>,
    <a href="https://hbase.apache.org">HBase</a>,
    <a href="https://hc.apache.org/httpcomponents-client-ga">HttpClient</a>,
    <a href="https://www.baeldung.com/java-org-json">org.json</a>,
    <a href="http://avro.apache.org/">Avro</a>,
    <a href="https://github.com/codehaus/jackson">Jackson</a>,
    <a href="https://commons.apache.org/proper/commons-cli">CLI Parser</a></li>
<li>Tools:
    <a href="https://ant.apache.org">Ant</a>,
    <a href="http://www.java2html.com">J2H</a>,
    <a href="http://vizant.sourceforge.net">Vizant</a>,
    <a href="https://github.com/dspinellis/UMLGraph">UmlGraph</a>,
    <a href="http://findbugs.sourceforge.net">FindBugs</a>,
    CleanImports,
    <a href="https://code.google.com/archive/p/apiviz">ApiViz</a>,
    <a href="https://github.com/clarkware/jdepend">JDepend</a></li>
</ul>
<a href="index.jpg"><img src="index.jpg" width="800"></a>
<br/>
<a href="index.jpg"><img src="index-ztf.jpg" width="400"></a>
<hr/>
<img src="JavaDoc/com/astrolabsoftware/AstroLabNet/Browser/doc-files/Architecture.jpg" width="800">
<br/>
<h4><a name="Bugs-ToDos">Bugs and ToDos</a></h4>
<b><u>Bugs</u></b>
<ul>
<li>Interactive CLI (Swing component in JavaFX Application)
    unresponsive to input. Clash between JavaFX and Swing
    Threads.</li>
</ul>
<b><u>ToDos</u></b>
<ul>
<li>Save newly created Actions.</li>
<li>Accept Actions as JAR files.</li>
<li>Treat entities and data as a graph (network).</li>
<li>Interface to LSST Alert system.</li>
<li>Interface to LSST Catalog and data system.</li>
<li>Add authentication.</li>
<li>Create job prototypes for data replication and streams.</li>
<li>Wrap in a Web Service.</li>
<li>Intergate in the Notebook.</li>
<li>Visualise network Topology.</li>
</ul>
<hr/>
<h4><a name="Releases">Release History</a></h4>
<ul>
<li><u>00.00.00:</u>
    <ul>
    <li>Initial release.</li>
    </ul></li>
<li><u>00.01.00:</u>
    <ul>
    <li>Complete GUI.</li>
    <li>Can connect to Spark/Livy server.</li>
    <li>Can send and follow Tasks on Servers.</li>
    </ul></li>
<li><u>00.02.00:</u>
    <ul>
    <li>Complete CLI.</li>
    <li>Connects to HBase.</li>
    <li>Network topology read from HBase.</li>
    <li>Avro reading added.</li>
    <li>Alarm Avro filles fed into HBase Catalog.</li>
    <li>HBase Catalog can be searched.</li>
    </ul><li>
<li><u>*.*.*:</u>
    <ul>
    <li>Jobs can be send by Senders to Batches.</li>
    <li>New or modified Actions and Jobs can be recorded.</li>
    <li>State is recorded at the program Exit and re-read on start.</li>
    <li>Better CLI.</li>
    </ul><li>
</ul>

<h4>Related Documentation</h4>
<ul>
<li><a href="https://astrolabsoftware.github.io">AstroLab software</a></li>
<li>Apache <a href="https://spark.apache.org">Spark</a>,
           <a href="https://kafka.apache.org">Kafka</a>,
           <a href="https://avro.apache.org">Avro</a></li>
<li>LSST Alert <a href="https://dmtn-093.lsst.io">Design</a>,
               <a href="https://dmtn-092.lsst.io">Production Pipeline Interfaces</a>,
               <a href="https://dmtn-081.lsst.io">Stream Mini-broker Prototype</a>,
               <a href="https://dmtn-028.lsst.io">Benchmarking a Distribution System</a></li>
</ul>

<h4><a name="Presentations">Presentations</a></h4>
<ul>
<li><u>2019:</u>
    <ul>
    <li><a href="docsrc/2019.02.19-AstroLabNet.pdf">AstroLabNet Status (19/2/2019, LAL)</a></li>
    <li><a href="docsrc/2019.03.26-AstroLabNet.pdf">AstroLabNet: Catalog and File Server (26/3/2019, LAL)</a></li>
    </ul></li>
<li><u>2018:</u>
    <ul>
    <li><a href="docsrc/2018.11.13-AstroLabNet.pdf">AstroLabNet (13/11/2018, LAL)</a></li>
    </ul></li>
</ul>
</p>

<hr/>
<img width="0" height="0" src="http://cern.ch/hrivnac/cgi-bin/record.pl?page=AstroLabNet"> 
<address>
<a href="http://cern.ch/hrivnac">J.Hrivnac</a> @BUILD@
</address>
</body>
</html>
